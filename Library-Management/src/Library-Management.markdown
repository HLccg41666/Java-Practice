# 图书管理系统（控制台版雏形）开发文档

## 1. 项目背景
在学习完 **Java 集合框架（List、Set、Map、泛型）** 之后，需要通过一个小型项目来综合应用。  
本项目实现一个 **控制台版图书管理系统雏形**，功能包括 **图书的增删改查、分类管理、借阅记录** 等，旨在强化集合与泛型的使用。

---

## 2. 项目目标
- 熟练掌握 **List、Set、Map** 的应用场景。
- 理解 **泛型** 在集合中的作用。
- 体验项目的 **规范化开发流程**：需求分析 → 系统设计 → 编码实现 → 测试 → 优化。
- 规范代码编写，提升项目思维。

---

## 3. 功能设计
### 基础功能
1. **图书管理**
    - 添加图书（存入集合）
    - 删除图书（通过 ID）
    - 修改图书信息
    - 查询图书（按 ID / 按书名）
    - 显示所有图书

2. **分类管理**
    - 使用 `Map<String, List<Book>>` 管理不同类别图书（如 “计算机类”、“文学类”）

3. **借阅记录（简化版）**
    - 使用 `Set<String>` 存储借阅者姓名，避免重复
    - 使用 `Map<String, List<Book>>` 存储借阅情况（键为用户名，值为借阅的书籍列表）

### 可扩展功能
- 图书排序（按价格 / 出版时间 / 名称）
- 数据导出到文件

---

## 4. 技术点覆盖

| 知识点         | 项目应用场景 |
|----------------|-------------|
| **List**       | 存储图书对象，支持有序增删改查 |
| **Set**        | 存储借阅人姓名，避免重复借阅记录 |
| **Map**        | 管理图书分类、借阅记录 |
| **泛型**       | 定义 `List<Book>`、`Map<String, List<Book>>` 等 |
| **封装**       | `Book` 类的属性和方法 |
| **继承与多态** | `Book` 基类 + 子类（教材类、小说类） |
| **接口**       | `BookService` 定义标准操作 |
| **异常处理**   | 输入错误、未找到图书时的提示 |
| **规范化编程** | 分层结构、注释、命名规范 |

---

## 5. 系统架构设计
### 5.1 分层结构
book-management/
├── src/
│ ├── entity/ # 实体类（Book, Textbook, Novel）
│ ├── service/ # 图书管理接口和实现类
│ ├── dao/ # 数据层，使用集合存储数据
│ ├── util/ # 工具类（输入工具、校验工具）
│ └── main/ # 主程序入口（MainApp）

### 5.2 类设计
- **Book（父类）**
    - 属性：`id`, `title`, `author`, `price`, `category`
    - 方法：`toString()`

- **子类**
    - `Textbook`（教材类）
    - `Novel`（小说类）

- **BookService（接口）**
    - 方法：`addBook()`, `deleteBook()`, `updateBook()`, `getBookById()`, `listAllBooks()`

- **BookServiceImpl（实现类）**
    - 使用 **List<Book>** 存储图书
    - 使用 **Map<String, List<Book>>** 管理分类
    - 使用 **Set<String>** 和 **Map<String, List<Book>>** 处理借阅

---

## 6. 开发流程

1. **需求分析**
    - 用户希望通过控制台管理图书，包括增删改查、分类与借阅。

2. **概要设计**
    - 使用 **三层结构**（实体类、服务层、主程序）。
    - 采用 **集合框架** 替代数组。

3. **详细设计**
    - `BookService` 定义标准操作。
    - `BookServiceImpl` 实现 CRUD、分类和借阅功能。
    - `MainApp` 提供交互式菜单。

4. **编码实现**
    - 严格遵守代码规范（见第 7 节）。
    - 使用泛型定义集合。

5. **测试**
    - 通过不同场景验证功能：添加、查询、借阅。
    - 检查异常情况：删除不存在图书、重复借阅。

6. **优化**
    - 使用 `Comparator` 对图书排序。
    - 扩展到文件存储。

---

## 7. 代码规范要求

- **命名规范**
    - 类名：大驼峰（如 `BookServiceImpl`）
    - 方法名：小驼峰（如 `addBook`）
    - 常量：全大写（如 `MAX_BOOKS`）

- **注释要求**
    - 类注释：功能说明 + 作者 + 时间
    - 方法注释：功能 + 参数 + 返回值说明
    - 关键逻辑必须有行内注释

- **排版规范**
    - 每行不超过 120 字符
    - 花括号独立换行
    - 缩进 4 空格

---

## 8. 测试用例设计

| 测试编号 | 测试功能   | 输入数据                | 预期结果 |
|----------|------------|-------------------------|----------|
| TC001    | 添加图书   | id=001, title=Java基础  | 添加成功 |
| TC002    | 删除图书   | id=999                  | 提示不存在 |
| TC003    | 修改图书   | id=001, price=99.9      | 修改成功 |
| TC004    | 查询图书   | id=001                  | 显示图书信息 |
| TC005    | 借阅图书   | 用户=张三, id=001       | 借阅成功 |
| TC006    | 重复借阅   | 用户=张三, id=001       | 提示已借阅 |
| TC007    | 分类查看   | category=文学           | 显示该类所有图书 |

---

## 9. 总结
通过本项目，你将掌握：
- **集合框架** 在项目中的综合应用（List、Set、Map、泛型）。
- **OOP 思想**（继承、多态、接口）。
- **规范化开发流程** 与代码规范。
- 为后续学习 **数据库 + JavaWeb** 打好基础。  
